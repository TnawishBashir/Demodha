@page
@model LoginModel
@{
    Layout = "/Views/Shared/_AuthLayout.cshtml";
    ViewData["Title"] = "Sign in";
}


<style>
    .auth-wrap {
        min-height: calc(100vh - 120px);
        display: flex;
        align-items: center;
        padding: 24px 0;
    }

    .auth-shell {
        border-radius: 18px;
        overflow: hidden;
        box-shadow: 0 18px 60px rgba(15, 23, 42, .12);
        border: 1px solid rgba(15, 23, 42, .08);
        background: #fff;
    }

    .auth-left {
        position: relative;
        padding: 34px 34px;
        color: #fff;
        min-height: 100%;
        background:
        linear-gradient(180deg, rgba(2, 6, 23, .55), rgba(2, 6, 23, .55)),
        radial-gradient(1200px 700px at 20% 20%, rgba(29,78,216,.28), rgba(2,6,23,0) 55%), radial-gradient(900px 500px at 80% 60%, rgba(6,182,212,.22), rgba(2,6,23,0) 60%), url('/images/dha-gujranwala-new-1024x486.jpg') center / cover no-repeat;
        overflow: hidden;
    }

        .auth-left::after {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(700px 300px at 70% 60%, rgba(255,255,255,.18) 0%, rgba(255,255,255,0) 60%), radial-gradient(500px 250px at 40% 80%, rgba(255,255,255,.10) 0%, rgba(255,255,255,0) 60%);
            pointer-events: none;
        }

    .brand-badge,
    .left-title,
    .small-muted {
        position: relative;
        z-index: 2;
    }

    .left-title {
        font-weight: 900;
        font-size: 1.85rem;
        letter-spacing: -0.03em;
        margin-top: 16px;
        color: rgba(255,255,255,.98);
    }

    .small-muted {
        color: rgba(255,255,255,.88);
    }

    .brand-badge {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 10px 14px;
        border-radius: 999px;
        background: rgba(255,255,255,.14);
        border: 1px solid rgba(255,255,255,.25);
        backdrop-filter: blur(10px);
    }

    .brand-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: rgba(255,255,255,.95);
        box-shadow: 0 0 0 4px rgba(255,255,255,.18);
    }


    .auth-right {
        padding: 34px 34px;
        background: #ffffff;
    }

    .auth-title {
        font-size: 1.6rem;
        font-weight: 800;
        letter-spacing: -0.02em;
        color: #0f172a;
        margin: 0;
    }

    .auth-sub {
        color: #64748b;
        margin-top: 8px;
        margin-bottom: 0;
    }

    .field-label {
        font-size: .85rem;
        font-weight: 600;
        color: #334155;
        margin-bottom: 6px;
    }

    .input-group-modern .form-control {
        border-radius: 12px;
        padding: 12px 12px;
        border: 1px solid rgba(15, 23, 42, .12);
        box-shadow: none;
    }

    .input-group-modern .form-control:focus {
        border-color: rgba(29, 78, 216, .55);
        box-shadow: 0 0 0 4px rgba(29, 78, 216, .12);
    }

    .input-icon {
        width: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid rgba(15, 23, 42, .12);
        border-right: none;
        border-radius: 12px 0 0 12px;
        background: #f8fafc;
        color: #475569;
        font-size: .95rem;
    }

    .input-group-modern .form-control {
        border-left: none;
        border-radius: 0 12px 12px 0;
    }

    .btn-primary-modern {
        border-radius: 12px;
        padding: 12px 14px;
        font-weight: 700;
        border: 0;
        background: linear-gradient(135deg, #1d4ed8 0%, #06b6d4 100%);
        box-shadow: 0 10px 24px rgba(29, 78, 216, .18);
    }

    .btn-primary-modern:hover {
        filter: brightness(.98);
        box-shadow: 0 14px 28px rgba(29, 78, 216, .24);
    }

    .mini-link a {
        color: #1d4ed8;
        text-decoration: none;
        font-weight: 600;
    }

    .mini-link a:hover {
        text-decoration: underline;
    }

    .divider {
        display: flex;
        align-items: center;
        gap: 12px;
        color: #94a3b8;
        font-size: .85rem;
        margin: 16px 0;
    }

    .divider::before,
    .divider::after {
        content: "";
        height: 1px;
        flex: 1;
        background: rgba(15, 23, 42, .10);
    }

    .external-btn {
        border-radius: 12px;
        border: 1px solid rgba(15, 23, 42, .12);
        padding: 10px 12px;
        font-weight: 700;
        background: #fff;
    }

    .external-btn:hover {
        background: #f8fafc;
    }

    .small-muted {
        color: rgba(255,255,255,.88);
        position: relative;
        z-index: 1;
    }

    .left-title {
        font-weight: 900;
        font-size: 1.75rem;
        letter-spacing: -0.03em;
        margin-top: 16px;
        position: relative;
        z-index: 1;
    }

    .left-points {
        margin-top: 18px;
        position: relative;
        z-index: 1;
        padding-left: 0;
        list-style: none;
    }

    .left-points li {
        display: flex;
        gap: 10px;
        margin-bottom: 10px;
        color: rgba(255,255,255,.92);
    }

    .tick {
        width: 22px;
        height: 22px;
        border-radius: 8px;
        background: rgba(255,255,255,.16);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: .85rem;
    }

    @@media (max-width: 991.98px) {
        .auth-left { display: none; }
        .auth-right { padding: 28px 22px; }
    }
</style>

<div class="container auth-wrap">
    <div class="row w-100 justify-content-center">
        <div class="col-12 col-lg-10 col-xl-9">
            <div class="auth-shell">
                <div class="row g-0">
                    <div class="col-lg-5">
                        <div class="auth-left h-100">
                            <div class="brand-badge">
                                <span class="brand-dot"></span>
                                <span style="font-weight:800; letter-spacing:.02em;">DHA</span>
                            </div>

                            <div class="left-title">Welcome Back</div>
                            <p class="small-muted mt-2 mb-0">
                                Sign in securely using your CNIC and File Number.
                            </p>
                        </div>
                    </div>

                    <div class="col-lg-7">
                        <div class="auth-right">
                            <h1 class="auth-title">Sign in</h1>
                            <p class="auth-sub">Enter your CNIC, File Number and password to continue.</p>

                            <form id="account" method="post" class="mt-4">
                                <div asp-validation-summary="ModelOnly" class="text-danger mb-3" role="alert"></div>

                                <div class="mb-3">
                                    <div class="field-label">CNIC</div>
                                    <div class="input-group input-group-modern">
                                        <span class="input-icon">🪪</span>
                                        <input asp-for="Input.User_CNIC"
                                               class="form-control"
                                               autocomplete="off"
                                               aria-required="true"
                                               placeholder="xxxxx-xxxxxxx-x" />
                                    </div>
                                    <span asp-validation-for="Input.User_CNIC" class="text-danger"></span>
                                </div>
                                <div class="mb-3">
                                    <div class="field-label">File Number</div>
                                    <div class="input-group input-group-modern">
                                        <span class="input-icon">📁</span>
                                        <input asp-for="Input.File_Number"
                                               class="form-control"
                                               autocomplete="off"
                                               aria-required="true"
                                               placeholder="Enter File Number" />
                                    </div>
                                    <span asp-validation-for="Input.File_Number" class="text-danger"></span>
                                </div>

                                <div class="mb-2">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div class="field-label mb-0">Password</div>
                                        <span class="mini-link">
                                            <a id="forgot-password" asp-page="./ForgotPassword">Forgot?</a>
                                        </span>
                                    </div>

                                    <div class="input-group input-group-modern mt-2">
                                        <span class="input-icon">🔒</span>
                                        <input asp-for="Input.Password"
                                               id="passwordBox"
                                               class="form-control"
                                               autocomplete="current-password"
                                               aria-required="true"
                                               placeholder="Enter password"
                                               type="password" />
                                    </div>
                                    <span asp-validation-for="Input.Password" class="text-danger"></span>

                                    <div class="mt-2 d-flex align-items-center justify-content-between">
                                        <div class="form-check">
                                            <input class="form-check-input" asp-for="Input.RememberMe" />
                                            <label class="form-check-label" asp-for="Input.RememberMe">
                                                @Html.DisplayNameFor(m => m.Input.RememberMe)
                                            </label>
                                        </div>

                                        <button type="button" class="btn btn-sm btn-outline-secondary"
                                                style="border-radius:10px;"
                                                onclick="togglePassword()">
                                            Show/Hide
                                        </button>
                                    </div>
                                </div>

                                <button id="login-submit" type="submit" class="w-100 btn btn-primary-modern mt-3">
                                    Sign in
                                </button>

                                <div class="mt-3 mini-link text-center">
                                    <span class="text-muted">New here?</span>
                                    <a asp-page="./Register" asp-route-returnUrl="@Model.ReturnUrl">Create an account</a>
                                </div>
                                
                            </form>
                        </div>
                    </div>
                </div>
            </div>

           
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        function togglePassword() {
            var el = document.getElementById("passwordBox");
            if (!el) return;
            el.type = (el.type === "password") ? "text" : "password";
        }
    </script>
}
